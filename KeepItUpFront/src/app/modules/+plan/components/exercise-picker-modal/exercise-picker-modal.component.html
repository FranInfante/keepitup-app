<!-- Exercise Picker Modal -->
<div
  class="fixed inset-0 bg-black bg-opacity-50 z-40 flex items-center justify-center"
  (click)="closeExercisePickerModal()"
>
  <div
    class="bg-gray-100 dark:bg-gray-800  text-black dark:text-white rounded-lg shadow-lg max-w-lg w-full p-6 relative"
    (click)="$event.stopPropagation()"
  >
    <!-- Modal Header -->
    <div class="modal-header flex justify-between items-center mb-4">
      <h5 class="text-lg font-semibold">Add Exercise to Workout</h5>
      <button
        class="text-white hover:text-gray-300 focus:outline-none"
        aria-label="Close"
        (click)="closeExercisePickerModal()"
      >
        &times;
      </button>
    </div>

    <!-- Modal Body -->
    <div class="modal-body">
      <input
        type="text"
        class="bg-gray-700 text-white rounded-md border border-gray-600 px-3 py-2 w-full mb-4"
        placeholder="Search exercise by name"
        [formControl]="searchControl"
      />
      <ul class="max-h-60 overflow-y-auto">
        <li
          *ngFor="let exercise of filteredExercises"
          class="bg-gray-700 text-white py-2 px-4 mb-2 rounded-md cursor-pointer hover:bg-blue-500 transition"
          (click)="selectExercise(exercise)"
        >
          {{ exercise.name }}
        </li>
      </ul>
      <div *ngIf="noExercisesFound" class="text-center mt-4">
        <button
          class="bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500" (click)="openCreateExerciseModal()"
        >
          Create New Exercise
        </button>
      </div>
      <app-create-exercise-modal
        *ngIf="isCreateExerciseModalOpen"
        [planId]="planId"
        [workoutId]="workoutId"
        (closeModal)="closeCreateExerciseModal()"
        ></app-create-exercise-modal>
    </div>

    <!-- Modal Footer -->
    <div class="modal-footer flex justify-end mt-4">
      <button
        class="bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-500"
        (click)="closeExercisePickerModal()"
      >
        Cancel
      </button>
    </div>
  </div>
</div>
